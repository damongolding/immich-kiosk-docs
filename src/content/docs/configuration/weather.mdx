---
title: Weather
---

import { Aside } from '@astrojs/starlight/components';
import { Card } from '@astrojs/starlight/components';

<Card title="Settings" icon="setting">
|         |                     |
| ------- | ------------------- |
| CONFIG  | `weather`           |
| ENV     | `N/A`               |
| VALUE   | `[]WeatherLocation` |
| DEFAULT | `[]`                |
</Card>

<Aside type="caution">
    This feature can only be configured using a `config.yaml` file.
</Aside>

<Aside type="note">
    To use the weather feature, you’ll need an API key from [OpenWeatherMap](https://openweathermap.org).
</Aside>

<Aside type="tip">
    OpenWeatherMap limits API usage to 60 calls per hour.
    Since the kiosk refreshes weather data every 10 minutes, you can monitor up to 6 locations with a single API key.
</Aside>


### Setting Up Weather Locations

You can configure multiple locations in the `config.yaml` file, and choose which one to display using the URL query `weather=NAME`.

### Weather Location Configuration Options:

<Aside type="tip">
If you would prefer to use the location name from OpenWeatherMap's API, add "-api" to the end of the name.
e.g. `name: london-api`
</Aside>

| **Value**   | **Description** |
|-------------|-----------------|
| name        | The location’s display name (used in the URL query). |
| lat         | Latitude of the location. |
| lon         | Longitude of the location. |
| api         | OpenWeatherMap API key. |
| unit        | Units of measurement (`standard`, `metric`, or `imperial`). |
| lang        | Language code for weather descriptions (see the full list [here](https://openweathermap.org/current#multi)). |
| default     | Set this location as the default (when no location is specified) |

### Example Configuration

Here’s an example of how to add London, London using OpenWeatherMap's name and New York to the config.yaml file. These locations would be selectable via the URL, like this:
`http://{URL}?weather=london or http://{URL}?weather=new-york.`

```yaml
 weather:
  - name: london
    lat: 51.5285262
    lon: -0.2663999
    api: API_KEY
    unit: metric
    lang: en
    default: true

  - name: london-api
    lat: 51.5285262
    lon: -0.2663999
    api: API_KEY
    unit: metric
    lang: en
    default: true

  - name: new-york
    lat: 40.6973709
    lon: -74.1444838
    api: API_KEY
    unit: imperial
    lang: en
```
